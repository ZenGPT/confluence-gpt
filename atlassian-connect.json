{
  "key": "gptdock-confluence",
  "name": "GPT for Confluence (AI Aide)",
  "description": "GPT based assistant for Confluence",
  "vendor": {
    "name": "P&D Vision",
    "url": "https://www.zenuml.com"
  },
  "baseUrl": "{{localBaseUrl}}",
  "authentication": {
    "type": "jwt"
  },
  "lifecycle": {
    "installed": "/installed",
    "uninstalled": "/uninstalled"
  },
  "enableLicensing": true,
  "scopes": ["READ", "WRITE"],
  "apiMigrations": {
    "signed-install": true
  },
  "modules": {
    "dynamicContentMacros": [
      {
        "key": "diagramlyai-macro",
        "name": {
          "value": "Diagramly AI"
        },
        "renderModes": {
          "default": {
            "url": "/viewer?contentId={content.id}&spaceKey={space.key}&pageId={page.id}&pageVersion={page.version}&macroId={macro.id}"
          }
        },
        "url": "/viewer?contentId={content.id}&spaceKey={space.key}&pageId={page.id}&pageVersion={page.version}&macroId={macro.id}",
        "description": {
          "value": "Diagramly AI"
        },
        "outputType": "block",
        "bodyType": "none",
        "editor": {
          "url": "/dashboard?spaceKey={space.key}",
          "editTitle": {
            "value": "Diagramly AI"
          },
          "insertTitle": {
            "value": "Diagramly AI"
          },
          "width": "100%",
          "height": "100%"
        },
        "icon": {
          "width": 16,
          "height": 16,
          "url": "/confluence-plugin/image/zenuml_logo.png"
        },
        "documentation": {
          "url": "https://zenuml.atlassian.net/wiki/spaces/Doc/overview"
        },
        "categories": ["visuals"],
        "featured": true,
        "parameters": [
          {
            "identifier": "diagramName",
            "name": {
              "value": "Diagram name (do not change)",
              "i18n": "diagramName"
            },
            "type": "string",
            "required": true,
            "multiple": false,
            "defaultValue": "None"
          }
        ]
      },
      {
        "key": "diagramlyai-embed-macro",
        "name": {
          "value": "Embed Diagramly AI"
        },
        "renderModes": {
          "default": {
            "url": "/attachment?version=2023.01&spaceKey={space.key}&pageId={page.id}&pageVersion={page.version}&macroId={macro.id}&uuid={uuid}&addonKey=my-api"
          }
        },
        "url": "/confluence-plugin/embed-viewer.html?version=2023.01&spaceKey={space.key}&pageId={page.id}&pageVersion={page.version}&macroId={macro.id}&uuid={uuid}&outputType={output.type}&addonKey=my-api",
        "description": {
          "value": "Embed Diagramly AI"
        },
        "outputType": "block",
        "bodyType": "none",
        "editor": {
          "url": "/confluence-plugin/embed-editor.html?version=2023.01&addonKey=my-api",
          "editTitle": {
            "value": "Embed Diagramly AI"
          },
          "insertTitle": {
            "value": "Embed Diagramly AI"
          },
          "width": "100%",
          "height": "100%",
          "cacheable": true
        },
        "icon": {
          "width": 16,
          "height": 16,
          "url": "/confluence-plugin/image/zenuml_logo.png"
        },
        "documentation": {
          "url": "https://zenuml.atlassian.net/wiki/spaces/Doc/overview"
        },
        "categories": ["visuals"],
        "featured": true,
        "parameters": [
          {
            "identifier": "diagramName",
            "name": {
              "value": "Diagram name (do not change)",
              "i18n": "diagramName"
            },
            "type": "string",
            "required": true,
            "multiple": false,
            "defaultValue": "None"
          }
        ]
      }
    ],
    "customContent": [
      {
        "uiSupport": {
          "contentViewComponent": {
            "moduleKey": "gpt-custom-content-view-module-key"
          },
          "listViewComponent": {
            "moduleKey": "gpt-custom-content-list-view-module-key"
          },
          "icons": {
            "item": {
              "width": 16,
              "height": 16,
              "url": "image/zenuml_logo.png"
            }
          }
        },
        "apiSupport": {
          "bodyType": "raw",
          "supportedContainerTypes": [
            "space",
            "page",
            "blogpost",
            "comment"
          ],
          "supportedChildTypes": [
            "attachment",
            "comment"
          ],
          "indexing": {
            "enabled": true
          }
        },
        "name": {
          "value": "Ai Aide"
        },
        "key": "gpt-custom-content-key"
      }
    ],
    "dialogs": [
      {
        "url": "/hello-world?contentId={content.id}",
        "options": {
          "height": "100%",
          "width": "100%",
          "chrome": false,
          "header": {
            "value": "AI Aide Dialog"
          }
        },
        "key": "ai-aide-dialog-key"
      }
    ],
    "contentBylineItems": [
      {
        "context": "addon",
        "target": {
          "type": "dialogmodule",
          "options": {
            "key": "ai-aide-dialog-key"
          }
        },
        "tooltip": {
          "value": "AI Aide"
        },
        "icon": {
          "url": "/images/ai-aide-logo.png"
        },
        "name": {
          "value": "Aide"
        },
        "key": "byline-item"
      }
    ],
    "generalPages": [
      {
        "key": "gpt-custom-content-list-view-module-key",
        "location": "none",
        "url": "/dashboard",
        "name": {
          "value": "Ai Aide Dashboard"
        }
      },
      {
        "key": "gpt-custom-content-view-module-key",
        "location": "none",
        "url": "/hello-world?version=__VERSION__&spaceKey={space.key}&addonKey=__ADDON_KEY__&postInstallPageKey=__POST_INSTALL_KEY__",
        "name": {
          "value": "Ai Aide Dashboard"
        }
      }

    ]
  }
}
